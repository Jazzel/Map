<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            overflow: hidden;
            padding: 0;
            margin: 0;
        }

        .image {
            margin: auto;
            padding: auto;
            transform: scale(1);
            width: 1800px;
            height: 1200px;
        }

        #mapHandler {
            margin: 4px, 4px;
            padding: 4px;
            background-color: white;
            position: relative;
            white-space: nowrap;
            cursor: grab;
            overflow: auto;
            width: 100vw;
            height: 100vh;

        }
    </style>
</head>

<body>

    <div id="mapHandler">
        <img id="zoomBox" src="./images/map.jpg" class="image">

        <div style="position: absolute;top: 867px;left: 238px;" id="testMove0" onclick="openModal(0);"
            data-reservableid="0">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 47px;width: 55px;">
        </div>

        <div style="position: absolute;top: 635px;left: 345px;transform: rotate(-45deg);" onclick="openModal(1);"
            class="outerBox liveOuterBox Available" id="testMove1" data-reservableid="1">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 28px;width: 69px;">
        </div>

        <div onclick="openModal(2);" class="outerBox liveOuterBox Available" id="testMove2" data-reservableid="2"
            style="position: absolute;top: 414px;left: 385px;transform: rotate(-22deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;background-color: #35E300;height: 33px;width: 22px;">
        </div>
        <div onclick="openModal(3);" class="outerBox liveOuterBox Available" id="testMove3" data-reservableid="3"
            style="position: absolute;top: 481px;left: 462px;transform: rotate(16deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 63px;width: 77px;">
        </div>
        <div onclick="openModal(4);" class="outerBox liveOuterBox Available" id="testMove4" data-reservableid="4"
            style="position: absolute;top: 426px;left: 530px;transform: rotate(-18deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 36px;width: 28px;">
        </div>
        <div onclick="openModal(5);" class="outerBox liveOuterBox Available" id="testMove5" data-reservableid="5"
            style="position: absolute;top: 460px;left: 737px;transform: rotate(-159deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 30px;width: 93px;">
        </div>

        <div onclick="openModal(6);" class="outerBox liveOuterBox Available" id="testMove6" data-reservableid="6"
            style="position: absolute;top: 311px;left: 869px;transform: rotate(152deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 58px;width: 22px;">
        </div>
        <div onclick="openModal(7);" class="outerBox liveOuterBox Available" id="testMove7" data-reservableid="7"
            style="position: absolute;top: 443px;left: 960px;transform: rotate(170deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 50px;width: 22px;">

        </div>

        <div onclick="openModal(8);" class="outerBox liveOuterBox Available" id="testMove8" data-reservableid="8"
            style="position: absolute;top: 253px;left: 1056px;transform: rotate(152deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 58px;width: 22px;">

        </div>
        <div onclick="openModal(9);" class="outerBox liveOuterBox Available" id="testMove9" data-reservableid="9"
            style="position: absolute;top: 416px;left: 1102px;transform: rotate(175deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 57px;width: 22px;">

        </div>
        <div onclick="openModal(10);" class="outerBox liveOuterBox Available" id="testMove10" data-reservableid="10"
            style="position: absolute;top: 230px;left: 1257px;transform: rotate(174deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 52px;width: 24px;">

        </div>
        <div onclick="openModal(11);" class="outerBox liveOuterBox Available" id="testMove11" data-reservableid="11"
            style="position: absolute;top: 407px;left: 1219px;transform: rotate(176deg);">

            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 49px;width: 22px;">

        </div>
        <div onclick="openModal(12);" class="outerBox liveOuterBox Available" id="testMove12" data-reservableid="12"
            style="position: absolute;top: 394px;left: 1353px;transform: rotate(173deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 53px;width: 24px;">

        </div>
        <div onclick="openModal(13);" class="outerBox liveOuterBox Available" id="testMove13" data-reservableid="13"
            style="position: absolute;top: 175px;left: 1447px;transform: rotate(160deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 56px;width: 22px;">

        </div>
        <div onclick="openModal(14);" class="outerBox liveOuterBox Available" id="testMove14" data-reservableid="14"
            style="position: absolute;top: 303px;left: 1458px;transform: rotate(98deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 66px;width: 21px;">

        </div>
        <div onclick="openModal(15);" class="outerBox liveOuterBox Available" id="testMove15" data-reservableid="15"
            style="position: absolute;top: 228px;left: 1643px;transform: rotate(123deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 45px;width: 35px;">

        </div>

        <div onclick="openModal(16);" class="outerBox liveOuterBox Available" id="testMove16" data-reservableid="16"
            style="position: absolute;top: 24px;left: 1681px;transform: rotate(79deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 100px;width: 40px;">
        </div>

        <div onclick="openModal(17);" class="outerBox liveOuterBox Available" id="testMove17" data-reservableid="17"
            style="position: absolute;top: 651px;left: 625px;transform: rotate(96deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 47px;width: 15px;">

        </div>
        <div onclick="openModal(18);" class="outerBox liveOuterBox Available" id="testMove18" data-reservableid="18"
            style="position: absolute;top: 707px;left: 638px;transform: rotate(74deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: red;position: static;display: block;height: 41px;width: 16px;">

        </div>
        <div onclick="openModal(19);" class="outerBox liveOuterBox Available" id="testMove19" data-reservableid="19"
            style="position: absolute;top: 760px;left: 675px;transform: rotate(66deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: red;position: static;display: block;height: 41px;width: 15px;">

        </div>
        <div onclick="openModal(20);" class="outerBox liveOuterBox Available" id="testMove20" data-reservableid="20"
            style="position: absolute;top: 800px;left: 712px;transform: rotate(65deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: red;position: static;display: block;height: 42px;width: 15px;">

        </div>

        <div onclick="openModal(21);" class="outerBox liveOuterBox Available" id="testMove22" data-reservableid="22"
            style="position: absolute;top: 665px;left: 763px;transform: rotate(65deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 39px;width: 17px;">

        </div>
        <div onclick="openModal(22);" class="outerBox liveOuterBox Available" id="testMove23" data-reservableid="23"
            style="position: absolute;top: 705px;left: 783px;transform: rotate(73deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 46px;width: 15px;">

        </div>
        <div onclick="openModal(23);" class="outerBox liveOuterBox Available" id="testMove24" data-reservableid="24"
            style="position: absolute;top: 635px;left: 727px;transform: rotate(59deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 36px;width: 22px;">

        </div>
        <div onclick="openModal(24);" class="outerBox liveOuterBox Available" id="testMove25" data-reservableid="25"
            style="position: absolute;top: 752px;left: 787px;transform: rotate(94deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 44px;width: 14px;">

        </div>
        <div onclick="openModal(25);" class="outerBox liveOuterBox Available" id="testMove26" data-reservableid="26"
            style="position: absolute;top: 794px;left: 786px;transform: rotate(93deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 43px;width: 16px;">

        </div>
        <div onclick="openModal(26);" class="outerBox liveOuterBox Available" id="testMove27" data-reservableid="27"
            style="position: absolute;top: 835px;left: 803px;transform: rotate(91deg);">
            <img id="testMoveImage0"
                style="opacity: 0.7;resize: none;background-color: #35E300;position: static;display: block;height: 43px;width: 15px;">

        </div>
    </div>

    <div class="modal fade" style="z-index: 999999 !important;" id="modalId" tabindex="-1" role="dialog"
        aria-labelledby="modelTitleId" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="title">Location ID: </h5>
                    <button type="button" onclick="closeModal()" class="close" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Location Description
                    <hr />



                    <form action="">
                        <div class="form-group">
                            <label for="">Start Date</label>
                            <input type="text" class="form-control" name="" id="" aria-describedby="helpId"
                                placeholder="">
                        </div>
                        <div class="form-group">
                            <label for="">End Date</label>
                            <input type="text" class="form-control" name="" id="" aria-describedby="helpId"
                                placeholder="">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="closeModal()" class="btn btn-secondary">Close</button>
                    <button type="button" class="btn btn-primary">Save</button>
                </div>
            </div>
        </div>
    </div>
    <script src="./js/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script>
        const box = $("#zoomBox");
        const ele = document.getElementById('mapHandler');


        ele.scrollTop = 100;
        ele.scrollLeft = 150;

        let pos = { top: 0, left: 0, x: 0, y: 0 };

        const mouseDownHandler = function (e) {
            console.log("mouseDownHandler");
            ele.style.cursor = 'grabbing';
            ele.style.userSelect = 'none';
            pos = {
                // The current scroll
                left: ele.scrollLeft,
                top: ele.scrollTop,
                // Get the current mouse position
                x: e.clientX,
                y: e.clientY,
            };

            document.addEventListener('mousemove', mouseMoveHandler);
            document.addEventListener('mouseup', mouseUpHandler);
        };

        const mouseMoveHandler = function (e) {
            // How far the mouse has been moved
            const dx = e.clientX - pos.x;
            const dy = e.clientY - pos.y;

            // Scroll the element
            ele.scrollTop = pos.top - dy;
            ele.scrollLeft = pos.left - dx;
        };
        const mouseUpHandler = function () {
            document.removeEventListener('mousemove', mouseMoveHandler);
            document.removeEventListener('mouseup', mouseUpHandler);

            ele.style.cursor = 'grab';
            ele.style.removeProperty('user-select');
        };

        ele.addEventListener('mousedown', mouseDownHandler);
        document.getElementById('zoomBox').ondragstart = function () { return false; };


    </script>
    <script>


        function openModal(id) {

            // id == id of current location selected by user

            $("#modalId").modal("toggle");
            $("#title").text(`Location ID: ${id}`);
        }

        function closeModal() {
            $("#modalId").modal("toggle");

        }

    </script>

</body>

</html>